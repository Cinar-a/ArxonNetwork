<!DOCTYPE html>
<html lang="tr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Arxon NW - Tek Dosya</title>
  <style>
    /* ==================== GENEL CSS ==================== */
    body {
      margin:0;
      font-family: 'Arial', sans-serif;
      background: #111;
      color: white;
    }
    a { text-decoration: none; color: #00d9ff; }
    .container { max-width: 1200px; margin: 0 auto; padding: 20px; }
    .btn { padding: 12px 25px; border:none; border-radius: 8px; cursor:pointer; font-weight:bold; transition:0.3s;}
    .btn-primary { background:#43b581; color:#fff;}
    .btn-primary:hover { background:#36a36c; }
    .btn-secondary { background:#5865f2;color:#fff; }
    .btn-secondary:hover { background:#4750c4; }
    .btn-auth { width:100%; margin-top:20px; background:#00d9ff;color:#000; }
    .btn-danger { background:#f04747; color:#fff; }
    .btn-danger:hover { background:#d63939; }

    input, textarea { 
      width:100%; padding:12px; margin-top:5px; border-radius:8px; border:2px solid rgba(255,255,255,0.1); background:rgba(255,255,255,0.05); color:white;
      box-sizing:border-box;
    }
    input:focus, textarea:focus { outline:none; border-color:#00d9ff; }
    .form-group { margin-bottom:20px; }
    .form-hint { font-size:12px; color:rgba(255,255,255,0.4); display:block; margin-top:5px; }
    .error-message { color:#f04747; margin-top:10px; display:none; }
    .success-message { color:#43b581; margin-top:10px; display:none; }
    .char-counter { font-size:12px; color:rgba(255,255,255,0.4); display:block; text-align:right; margin-top:5px; }

    /* ==================== SAYFA B√ñL√úMLERƒ∞ ==================== */
    .page-section { display:none; padding:100px 20px 50px; min-height:100vh; }
    .panel-header, .stats-section, .vip-section, .applications-section, .settings-section { margin-bottom:40px; }
    .user-card { display:flex; align-items:center; gap:25px; background:rgba(255,255,255,0.05); padding:30px; border-radius:20px; border:1px solid rgba(255,255,255,0.1);}
    .user-avatar-large { width:120px;height:120px;border-radius:15px;border:3px solid rgba(0,217,255,0.5); image-rendering: pixelated;}
    .user-info-main h2 { font-size:32px; margin:0 0 10px 0; }
    .user-date { color:#b9b9c9; font-size:14px; margin:0; }
    .badge { padding:5px 12px; border-radius:20px; font-size:12px; font-weight:bold; }
    .badge-vip { background: linear-gradient(135deg, #FFD700, #FFA500); color:#000; }
    .badge-member { background: rgba(88,101,242,0.3); color:#7289da; border:1px solid #7289da; }
    .stats-grid { display:grid; grid-template-columns:repeat(auto-fit,minmax(250px,1fr)); gap:20px; }
    .stat-box { background: rgba(88,101,242,0.1); border:1px solid rgba(88,101,242,0.3); border-radius:15px; padding:25px; text-align:center; transition:0.3s;}
    .stat-box:hover { background: rgba(88,101,242,0.2); transform:translateY(-5px);}
    .stat-box .stat-icon { font-size:48px; margin-bottom:15px; }
    .stat-box .stat-value { font-size:36px; font-weight:bold; color:#00d9ff; margin-bottom:8px;}
    .stat-box .stat-label { color:#b9b9c9; font-size:14px; text-transform:uppercase; }

    .vip-card { background:rgba(255,255,255,0.05); border:1px solid rgba(255,255,255,0.1); border-radius:15px; padding:25px; display:flex; justify-content:space-between; align-items:center; }
    .vip-status { display:flex; gap:20px; align-items:center; }
    .status-icon { font-size:48px; }
    .vip-card h4 { color:white; margin:0 0 5px 0; }
    .vip-card p { color:#b9b9c9; margin:0; font-size:14px; }

    .empty-state { background: rgba(255,255,255,0.03); border:1px dashed rgba(255,255,255,0.2); border-radius:15px; padding:40px; text-align:center; color:#b9b9c9; }

    .success-container { text-align:center; padding:60px 20px; }
    .success-icon { font-size:100px; margin-bottom:30px; animation:successPop 0.5s ease-out; }
    @keyframes successPop {0%{transform:scale(0);}50%{transform:scale(1.2);}100%{transform:scale(1);} }
    .success-container h2 { font-size:36px; margin-bottom:20px; }
    .success-container p { font-size:16px; margin-bottom:10px; color:#b9b9c9; }
    .success-actions { display:flex; gap:15px; justify-content:center; margin-top:40px; }

    .radio-group { display:grid; grid-template-columns:repeat(auto-fit,minmax(150px,1fr)); gap:15px; margin-top:10px; }
    .radio-label { display:flex; align-items:center; gap:10px; padding:15px; background:rgba(255,255,255,0.03); border:2px solid rgba(255,255,255,0.1); border-radius:12px; cursor:pointer; transition:0.3s;}
    .radio-label input[type="radio"] { width:20px; height:20px; cursor:pointer; }
    .radio-label input[type="radio"]:checked + span { color:#00d9ff; font-weight:bold; }
    .radio-label:has(input:checked) { background:rgba(0,217,255,0.2); border-color:#00d9ff; }

    /* Toggle Switch */
    .toggle-switch { width:50px; height:26px; appearance:none; background:rgba(255,255,255,0.1); border-radius:30px; position:relative; cursor:pointer; transition:0.3s; }
    .toggle-switch:checked { background:#43b581; }
    .toggle-switch::before { content:''; position:absolute; width:20px;height:20px;border-radius:50%;background:white;top:3px; left:3px; transition:0.3s; }
    .toggle-switch:checked::before { left:27px; }

    .setting-item { display:flex; justify-content:space-between; align-items:center; padding:20px 0; border-bottom:1px solid rgba(255,255,255,0.1); cursor:pointer; }
    .setting-item:last-of-type { border-bottom:none; }

    @media(max-width:768px){
      .form-row { grid-template-columns:1fr; }
      .radio-group { grid-template-columns:1fr; }
      .user-card { flex-direction:column;text-align:center; }
      .success-actions { flex-direction:column; }
      .success-actions .btn { width:100%; }
    }
  </style>
</head>
<body>

<div class="container">
  <!-- ====== REGISTER / LOGIN SECTION ====== -->
  <section id="registerSection" class="page-section">
    <h1>Kayƒ±t Ol</h1>
    <form id="registerForm">
      <div class="form-group">
        <label for="reg-username">Kullanƒ±cƒ± Adƒ±</label>
        <input type="text" id="reg-username" placeholder="3-16 karakter" required>
        <small class="form-hint">3-16 karakter, alfanumerik</small>
      </div>
      <div class="form-group">
        <label for="reg-email">E-posta Adresi</label>
        <input type="email" id="reg-email" placeholder="email@example.com" required>
      </div>
      <div class="form-group">
        <label for="reg-password">≈ûifre</label>
        <input type="password" id="reg-password" placeholder="En az 8 karakter" minlength="8" required>
      </div>
      <div class="form-group">
        <label for="reg-password-confirm">≈ûifre Tekrar</label>
        <input type="password" id="reg-password-confirm" placeholder="≈ûifreni tekrar gir" minlength="8" required>
      </div>
      <div class="form-options">
        <label><input type="checkbox" id="terms" required> <a href="/terms" class="link-text">Kullanƒ±m ≈üartlarƒ±nƒ±</a> kabul ediyorum</label>
      </div>
      <div id="registerMessage" class="error-message"></div>
      <button type="submit" class="btn btn-auth">KAYIT OL</button>
    </form>
    <p>Zaten hesabƒ±n var mƒ±? <a href="#" onclick="showSection('loginSection')">Giri≈ü Yap</a></p>
  </section>

  <section id="loginSection" class="page-section">
    <h1>Giri≈ü Yap</h1>
    <form id="loginForm">
      <div class="form-group">
        <label for="login-username">Kullanƒ±cƒ± Adƒ±</label>
        <input type="text" id="login-username" placeholder="Kullanƒ±cƒ± adƒ±n" required>
      </div>
      <div class="form-group">
        <label for="login-password">≈ûifre</label>
        <input type="password" id="login-password" placeholder="≈ûifre" required>
      </div>
      <div id="loginMessage" class="error-message"></div>
      <button type="submit" class="btn btn-auth">Gƒ∞Rƒ∞≈û YAP</button>
    </form>
    <p>Hesabƒ±n yok mu? <a href="#" onclick="showSection('registerSection')">Kayƒ±t Ol</a></p>
  </section>

  <section id="panelSection" class="page-section">
    <h1>Profilim</h1>
    <div class="panel-header">
      <div class="user-card">
        <img src="https://crafatar.com/avatars/steve?overlay" alt="Avatar" class="user-avatar-large" id="panelAvatar">
        <div class="user-info-main">
          <h2 id="panelUsername">Username</h2>
          <div class="user-badges">
            <span class="badge badge-vip" id="vipBadge" style="display:none;">‚≠ê VIP</span>
            <span class="badge badge-member">üë§ √úye</span>
          </div>
          <p class="user-date">Kayƒ±t: <span id="panelRegDate">01.01.2024</span></p>
        </div>
      </div>
    </div>
    <button class="btn btn-secondary" onclick="showSection('applicationSection')">Ba≈üvuru Yap</button>
    <button class="btn btn-danger" onclick="logout()">√áƒ±kƒ±≈ü Yap</button>
  </section>

  <section id="applicationSection" class="page-section">
    <h1>Ba≈üvuru Formu</h1>
    <form id="applicationForm">
      <div class="form-group">
        <label for="app-mc-username">Minecraft Kullanƒ±cƒ± Adƒ±n</label>
        <input type="text" id="app-mc-username" required>
      </div>
      <div class="form-group">
        <label for="app-age">Ya≈üƒ±n</label>
        <input type="number" id="app-age" min="10" max="99" required>
      </div>
      <div class="form-group">
        <label for="app-discord">Discord Kullanƒ±cƒ± Adƒ±n</label>
        <input type="text" id="app-discord" required>
      </div>
      <div class="form-group">
        <label>Ba≈üvurulan Pozisyon</label>
        <div class="radio-group">
          <label class="radio-label"><input type="radio" name="position" value="Moderat√∂r" required><span>üõ°Ô∏è Moderat√∂r</span></label>
          <label class="radio-label"><input type="radio" name="position" value="Admin"><span>‚ö° Admin</span></label>
          <label class="radio-label"><input type="radio" name="position" value="Builder"><span>üèóÔ∏è Builder</span></label>
          <label class="radio-label"><input type="radio" name="position" value="Developer"><span>üíª Developer</span></label>
        </div>
      </div>
      <div class="form-group">
        <label for="app-experience">Deneyimini Anlat <small>(Min 100 karakter)</small></label>
        <textarea id="app-experience" rows="6" minlength="100" required></textarea>
        <small class="char-counter" id="expCounter">0 / 100</small>
      </div>
      <div class="form-group">
        <label for="app-why">Neden Seni Se√ßmeliyiz? <small>(Min 100 karakter)</small></label>
        <textarea id="app-why" rows="6" minlength="100" required></textarea>
        <small class="char-counter" id="whyCounter">0 / 100</small>
      </div>
      <div id="appMessage" class="error-message"></div>
      <button type="submit" class="btn btn-auth">BA≈ûVURUYU G√ñNDER</button>
    </form>
  </section>
</div>

<script>
  /* ========== GLOBAL FUNCTIONS ========== */
  function isLoggedIn(){ return localStorage.getItem('arxon_logged_in')==='true'; }
  function getCurrentUser(){ const u=localStorage.getItem('arxon_current_user'); if(!u)return null; const users=JSON.parse(localStorage.getItem('arxon_users')||'{}'); return users[u]; }
  function logout(){ localStorage.removeItem('arxon_logged_in'); localStorage.removeItem('arxon_current_user'); showSection('loginSection'); }

  function showSection(id){ document.querySelectorAll('.page-section').forEach(s=>s.style.display='none'); document.getElementById(id).style.display='block'; }

  /* ===== REGISTER ===== */
  document.getElementById('registerForm').addEventListener('submit', function(e){
    e.preventDefault();
    const username=document.getElementById('reg-username').value.trim();
    const email=document.getElementById('reg-email').value.trim();
    const password=document.getElementById('reg-password').value;
    const passwordConfirm=document.getElementById('reg-password-confirm').value;
    const terms=document.getElementById('terms').checked;
    const message=document.getElementById('registerMessage');

    if(username.length<3||username.length>16){ showRegisterError('Kullanƒ±cƒ± adƒ± 3-16 karakter olmalƒ±!'); return; }
    if(!/^[a-zA-Z0-9_]+$/.test(username)){ showRegisterError('Kullanƒ±cƒ± adƒ± sadece harf, rakam ve _ i√ßerebilir!'); return; }
    if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(email)){ showRegisterError('Ge√ßerli bir e-posta adresi girin!'); return; }
    if(password.length<8){ showRegisterError('≈ûifre en az 8 karakter olmalƒ±!'); return; }
    if(password!==passwordConfirm){ showRegisterError('≈ûifreler e≈üle≈ümiyor!'); return; }
    if(!terms){ showRegisterError('Kullanƒ±m ≈üartlarƒ±nƒ± kabul etmelisiniz!'); return; }

    const users=JSON.parse(localStorage.getItem('arxon_users')||'{}');
    if(users[username]){ showRegisterError('Bu kullanƒ±cƒ± adƒ± zaten alƒ±nmƒ±≈ü!'); return; }
    for(let k in users){ if(users[k].email===email){ showRegisterError('Bu e-posta adresi zaten kullanƒ±lƒ±yor!'); return; } }

    const newUser={username,email,password:btoa(password),registerDate:new Date().toISOString(),vipStatus:false,vipExpire:null,stats:{playtime:0,level:1,boxmines:0},applications:[]};
    users[username]=newUser;
    localStorage.setItem('arxon_users',JSON.stringify(users));
    localStorage.setItem('arxon_logged_in','true');
    localStorage.setItem('arxon_current_user',username);
    showRegisterSuccess('Kayƒ±t ba≈üarƒ±lƒ±! Y√∂nlendiriliyorsun...');
    setTimeout(()=>{ loadUserPanel(); showSection('panelSection'); }, 1000);
  });

  function showRegisterError(msg){ const m=document.getElementById('registerMessage'); m.className='error-message'; m.textContent=msg; m.style.display='block'; setTimeout(()=>m.style.display='none',4000); }
  function showRegisterSuccess(msg){ const m=document.getElementById('registerMessage'); m.className='success-message'; m.textContent=msg; m.style.display='block'; }

  /* ===== LOGIN ===== */
